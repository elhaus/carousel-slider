!function(e){"use strict";function t(e){if(e){var t=new wp.shortcode({tag:"gallery",attrs:{ids:e},type:"single"}),s=wp.media.gallery.attachments(t),i=new wp.media.model.Selection(s.models,{props:s.props.toJSON(),multiple:!0});return i.gallery=s.gallery,i.more().done(function(){i.props.set({query:!1}),i.unmirror(),i.props.unset("orderby")}),i}return!1}var s,i=t(CarouselSlider.image_ids);e("#carousel_slider_gallery_btn").on("click",function(o){function l(){s.toolbar.get("view").set({insert:{style:"primary",text:CarouselSlider.save_btn_text,click:function(){var o="";s.state().get("library").each(function(e){o+=e.id+","}),this.el.innerHTML=CarouselSlider.progress_btn_text,e.ajax({type:"POST",url:ajaxurl,data:{ids:o,action:"carousel_slider_save_images",post_id:CarouselSlider.post_id,nonce:CarouselSlider.nonce},success:function(){i=t(o),e("#_carousel_slider_images_ids").val(o),s.close()},dataType:"html"}).done(function(t){e(".carousel_slider_gallery_list").html(t),console.log(t)})}}})}o.preventDefault();var a={title:CarouselSlider.create_btn_text,state:"gallery-edit",frame:"post",selection:i};(s||i)&&(a.title=CarouselSlider.edit_btn_text),(s=wp.media(a).open()).menu.get("view").unset("cancel"),s.menu.get("view").unset("separateCancel"),s.menu.get("view").get("gallery-edit").el.innerHTML=CarouselSlider.edit_btn_text,s.content.get("view").sidebar.unset("gallery"),l(),s.on("toolbar:render:gallery-edit",function(){l()}),s.on("content:render:browse",function(e){e&&(e.sidebar.on("ready",function(){e.sidebar.unset("gallery")}),e.toolbar.on("ready",function(){"gallery-library"===e.toolbar.controller._state&&e.toolbar.$el.hide()}))}),s.state().get("library").on("remove",function(){0===s.state().get("library").length&&(i=!1,e.post(ajaxurl,{ids:"",action:"carousel_slider_save_images",post_id:CarouselSlider.post_id,nonce:CarouselSlider.nonce}))})})}(jQuery),function(e){"use strict";var t=e("body"),s=e("#CarouselSliderModal"),i=e("#_images_urls_btn"),o=e("#carouselSliderGalleryUrlTemplate").html();i.on("click",function(t){t.preventDefault(),s.css("display","block"),e("body").addClass("overflowHidden")}),s.on("click",".carousel_slider-close",function(t){t.preventDefault(),s.css("display","none"),e("body").removeClass("overflowHidden")});var l=e(window).height()-148;e(".carousel_slider-modal-body").css("height",l+"px"),t.on("click",".add_row",function(){e(this).closest(".carousel_slider-fields").after(o)}),t.on("click",".delete_row",function(){e(this).closest(".carousel_slider-fields").remove()}),e("#carousel_slider_form").sortable()}(jQuery),function(e){"use strict";if("post-carousel"==e("#_carousel_slider_slide_type").val()){var t=e("#_post_query_type").val();"date_range"==t&&(e("#field-_post_date_after").show(),e("#field-_post_date_before").show()),"post_categories"==t&&e("#field-_post_categories").show(),"post_tags"==t&&e("#field-_post_tags").show(),"specific_posts"==t&&(e("#field-_post_in").show(),e("#field-_posts_per_page").hide())}if(e("#_post_query_type").on("change",function(){e("#field-_post_date_after").hide("fast"),e("#field-_post_date_before").hide("fast"),e("#field-_post_categories").hide("fast"),e("#field-_post_tags").hide("fast"),e("#field-_post_in").hide("fast"),e("#field-_posts_per_page").show("fast"),"date_range"==this.value&&(e("#field-_post_date_after").slideDown(),e("#field-_post_date_before").slideDown()),"post_categories"==this.value&&e("#field-_post_categories").slideDown(),"post_tags"==this.value&&e("#field-_post_tags").slideDown(),"specific_posts"==this.value&&(e("#field-_post_in").slideDown(),e("#field-_posts_per_page").hide("fast"))}),"product-carousel"==e("#_carousel_slider_slide_type").val()){var s=e("#_product_query_type").val();"query_porduct"==s&&e("#field-_product_query").show(),"product_categories"==s&&e("#field-_product_categories").show(),"product_tags"==s&&e("#field-_product_tags").show(),"specific_products"==s&&e("#field-_product_in").show()}e("#_product_query_type").on("change",function(){e("#field-_product_query").hide("fast"),e("#field-_product_categories").hide("fast"),e("#field-_product_tags").hide("fast"),e("#field-_product_in").hide("fast"),e("#field-_products_per_page").show("fast"),"query_porduct"==this.value&&e("#field-_product_query").slideDown(),"product_categories"==this.value&&e("#field-_product_categories").slideDown(),"product_tags"==this.value&&e("#field-_product_tags").slideDown(),"specific_products"==this.value&&(e("#field-_product_in").slideDown(),e("#field-_products_per_page").hide("fast"))}),e("#_carousel_slider_slide_type").on("change",function(){e("#section_images_settings").hide("fast"),e("#section_url_images_settings").hide("fast"),e("#section_images_general_settings").hide("fast"),e("#section_post_query").hide("fast"),e("#section_video_settings").hide("fast"),e("#section_product_query").hide("fast"),"image-carousel"==this.value&&(e("#section_images_settings").slideDown(),e("#section_images_general_settings").slideDown()),"image-carousel-url"==this.value&&(e("#section_url_images_settings").slideDown(),e("#section_images_general_settings").slideDown()),"post-carousel"==this.value&&e("#section_post_query").slideDown(),"video-carousel"==this.value&&e("#section_video_settings").slideDown(),"product-carousel"==this.value&&e("#section_product_query").slideDown()})}(jQuery),function(e){"use strict";e("select.select2").each(function(){e(this).select2()}),e(".shapla-toggle").each(function(){"closed"===e(this).attr("data-id")?e(this).accordion({header:".shapla-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):e(this).accordion({header:".shapla-toggle-title",collapsible:!0,heightStyle:"content"})}),e(".datepicker").each(function(){e(this).datepicker({dateFormat:"MM dd, yy",changeMonth:!0,changeYear:!0,onClose:function(t){e(this).datepicker("option","minDate",t)}})}),e(".colorpicker").each(function(){e(this).wpColorPicker()})}(jQuery);